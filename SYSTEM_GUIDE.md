# –†–£–ö–û–í–û–î–°–¢–í–û –ü–û –°–ò–°–¢–ï–ú–ï –ö–û–ù–¢–†–û–õ–Ø –ü–û–î–†–Ø–î–ß–ò–ö–û–í

## –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π](#—Ä–æ–ª–∏-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
3. [–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏](#—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–∏-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
4. [–û–±—ä–µ–∫—Ç—ã —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞](#–æ–±—ä–µ–∫—Ç—ã-—Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞)
5. [–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞–±–æ—Ç (Work Templates)](#—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫-—Ä–∞–±–æ—Ç-work-templates)
6. [–†–∞–±–æ—Ç—ã –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö](#—Ä–∞–±–æ—Ç—ã-–Ω–∞-–æ–±—ä–µ–∫—Ç–∞—Ö)
7. [–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç](#–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-—Ä–∞–±–æ—Ç)
8. [–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞](#–ø—Ä–∞–≤–∞-–¥–æ—Å—Ç—É–ø–∞)
9. [–°–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏](#—Å–≤—è–∑–∏-–º–µ–∂–¥—É-—Å—É—â–Ω–æ—Å—Ç—è–º–∏)

---

## –û–ë–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ —Ä–∞–±–æ—Ç–∞–º–∏ –Ω–∞ –Ω–∏—Ö —á–µ—Ä–µ–∑ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏. –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è:

```
–û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø –ó–ê–ö–ê–ó–ß–ò–ö–ê (Organization, type=client)
  ‚îî‚îÄ‚îÄ –û–ë–™–ï–ö–¢ –°–¢–†–û–ò–¢–ï–õ–¨–°–¢–í–ê (Object)
       ‚îî‚îÄ‚îÄ –†–ê–ë–û–¢–ê (Work)
            ‚îî‚îÄ‚îÄ –ù–∞–∑–Ω–∞—á–µ–Ω–∞ –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò –ü–û–î–†–Ø–î–ß–ò–ö–ê (Organization, type=contractor)
                 ‚îî‚îÄ‚îÄ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ (Users —á–µ—Ä–µ–∑ user_organizations)
```

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –û–±—ä–µ–∫—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ **–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º –∑–∞–∫–∞–∑—á–∏–∫–∞**
- –†–∞–±–æ—Ç—ã –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è **–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º –ø–æ–¥—Ä—è–¥—á–∏–∫–∞**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —è–≤–ª—è—é—Ç—Å—è **—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω —Å–æ—Å—Ç–æ–∏—Ç

---

## –†–û–õ–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô

### –†–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ:

#### 1. –°–∏—Å—Ç–µ–º–Ω–∞—è —Ä–æ–ª—å (users.role):
- **client** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞
- **contractor** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **admin** ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

#### 2. –†–æ–ª—å –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (user_organizations.role):
‚ö†Ô∏è **–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ:** –¢–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Ä–æ–ª—å ‚Äî **admin** (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

–í –±—É–¥—É—â–µ–º –º–æ–≥—É—Ç –¥–æ–±–∞–≤–∏—Ç—å—Å—è:
- owner (–≤–ª–∞–¥–µ–ª–µ—Ü)
- employee (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫)

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
- –ú–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ó–∞–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ
- –ù–ï —è–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–º –∞–¥–º–∏–Ω–æ–º (admin –≤ users.role)

---

## –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ò –û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò

### 1. –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:**
- –í —Å–∏—Å—Ç–µ–º–µ **—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –¢–û–õ–¨–ö–û –∑–∞–∫–∞–∑—á–∏–∫–∏**
- –ü–æ–¥—Ä—è–¥—á–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è **–¢–û–õ–¨–ö–û –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é** –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞

### 2. –¢–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

| –¢–∏–ø | –ù–∞–∑–≤–∞–Ω–∏–µ | –ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|-------------|----------|
| **client** | –ó–∞–∫–∞–∑—á–∏–∫ | –°–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ | –°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã, –Ω–∞–∑–Ω–∞—á–∞–µ—Ç —Ä–∞–±–æ—Ç—ã |
| **contractor** | –ü–æ–¥—Ä—è–¥–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è | –ó–∞–∫–∞–∑—á–∏–∫ —á–µ—Ä–µ–∑ "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞" | –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞–±–æ—Ç—ã –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö |

---

### 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞

#### –ü—Ä–æ—Ü–µ—Å—Å:
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é** (—É–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥)
2. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - –°–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å `role = 'client'`
   - –°–æ–∑–¥–∞—ë—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —Å `type = 'client'`
   - –°–≤—è–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `user_organizations` —Å `role = 'admin'`
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥** (4 —à–∞–≥–∞)

#### –û–Ω–±–æ—Ä–¥–∏–Ω–≥ –∑–∞–∫–∞–∑—á–∏–∫–∞ (4 —à–∞–≥–∞):

**–®–∞–≥ 1: –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
- –§–ò–û
- Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –î–æ–ª–∂–Ω–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–®–∞–≥ 2: –î–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏**
‚ö†Ô∏è –î–æ—Å—Ç—É–ø–µ–Ω –¢–û–õ–¨–ö–û –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ò–ù–ù (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ö–ü–ü (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –û–ì–†–ù (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–®–∞–≥ 3: –ê–¥—Ä–µ—Å–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã**
‚ö†Ô∏è –î–æ—Å—Ç—É–ø–µ–Ω –¢–û–õ–¨–ö–û –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å
- –¢–µ–ª–µ—Ñ–æ–Ω –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- Email –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

**–®–∞–≥ 4: –†–µ–∫–≤–∏–∑–∏—Ç—ã**
‚ö†Ô∏è –î–æ—Å—Ç—É–ø–µ–Ω –¢–û–õ–¨–ö–û –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ë–ò–ö –±–∞–Ω–∫–∞
- –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞
- –†–∞—Å—á—ë—Ç–Ω—ã–π —Å—á—ë—Ç
- –ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—Å–∫–∏–π —Å—á—ë—Ç
- –§–ò–û –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
- –î–æ–ª–∂–Ω–æ—Å—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–∞:
- `users.onboarding_completed = true`
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É

---

### 4. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∑–∞–∫–∞–∑—á–∏–∫–∞

#### –ü—Ä–æ—Ü–µ—Å—Å:
1. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
2. –ù–∞–∂–∏–º–∞–µ—Ç **"–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞"**
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É:
   - **–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
4. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ"
5. **–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç:**
   - –ó–∞–ø–∏—Å—å –≤ `organization_invites`:
     - `organization_id` = ID —Ç–µ–∫—É—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
     - `phone` = —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
     - `status` = 'pending'
     - `token` = —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
     - `expires_at` = –¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, +7 –¥–Ω–µ–π)
6. **–ù–∞ –Ω–æ–º–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è SMS/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** —Å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ–º

#### –ü—Ä–∏–Ω—è—Ç–∏–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:
1. **–ü—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è/–∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
2. **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
   - –ï—Å—Ç—å –ª–∏ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–æ–º–µ—Ä–∞ –∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ `organization_invites`
3. **–ï—Å–ª–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ:**
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `user_organizations`:
     - `user_id` = ID –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
     - `organization_id` = ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è
     - `role` = 'admin' (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–¥–º–∏–Ω–∞–º–∏)
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω–æ–µ (`status = 'accepted'`)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è `role = 'client'`
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥:**
   - ‚ö†Ô∏è **–¢–æ–ª—å–∫–æ –®–∞–≥ 1** (–ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
   - –®–∞–≥–∏ 2-4 (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è) **–ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è**, —Ç.–∫. –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

---

### 5. –†–∞–∑–¥–µ–ª "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏" —É –∑–∞–∫–∞–∑—á–∏–∫–∞

#### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –∑–∞–∫–∞–∑—á–∏–∫–∞ –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª **"–ü–æ–¥—Ä—è–¥—á–∏–∫–∏"**, –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –ø–æ–¥—Ä—è–¥–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–µ—Ç.

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞:

1. **–ó–∞–∫–∞–∑—á–∏–∫** –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–¥–µ–ª "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏"
2. –ù–∞–∂–∏–º–∞–µ—Ç **"–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞"**
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É:
   - **–ò–ù–ù –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - **–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - **–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–µ—Ä–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) ‚Äî –æ–Ω —Å—Ç–∞–Ω–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å"

5. **–°–∏—Å—Ç–µ–º–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ –ò–ù–ù:**

   **–í–∞—Ä–∏–∞–Ω—Ç –ê: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å —Ç–∞–∫–∏–º –ò–ù–ù —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**
   - –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è [–ù–ê–ó–í–ê–ù–ò–ï] —Å –ò–ù–ù [–ò–ù–ù] —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å –µ—ë?"
   - –ó–∞–∫–∞–∑—á–∏–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç
   - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç —Å–≤—è–∑—å –≤ `client_contractors`:
     - `client_id` = ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞
     - `contractor_id` = ID –Ω–∞–π–¥–µ–Ω–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - –ü–æ–¥—Ä—è–¥–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–∞

   **–í–∞—Ä–∏–∞–Ω—Ç –ë: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å —Ç–∞–∫–∏–º –ò–ù–ù –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç**
   - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é:
     - `type = 'contractor'`
     - `name` = –∏–∑ —Ñ–æ—Ä–º—ã
     - `inn` = –∏–∑ —Ñ–æ—Ä–º—ã
     - `created_by` = ID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∑–∞–∫–∞–∑—á–∏–∫–∞)
   - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ `organization_invites`:
     - `organization_id` = ID —Å–æ–∑–¥–∞–Ω–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
     - `phone` = —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
     - `invited_by` = ID –∑–∞–∫–∞–∑—á–∏–∫–∞
     - `token` = —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω
     - `expires_at` = +7 –¥–Ω–µ–π
   - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç —Å–≤—è–∑—å –≤ `client_contractors`:
     - `client_id` = ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞
     - `contractor_id` = ID –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - **–ù–∞ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ**

6. **–ü—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ä—è–¥—á–∏–∫–∞:**
   - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è/–∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   - –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `user_organizations` —Å `role = 'admin'`
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è `role = 'contractor'`
   - –ü–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (4 —à–∞–≥–∞), –≥–¥–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

---

### 6. –¢–∞–±–ª–∏—Ü—ã –≤ –ë–î

#### organizations
```
organizations:
  - id
  - name (–Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
  - inn (–ò–ù–ù, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
  - type ('client' / 'contractor')
  - kpp, ogrn (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - legal_address, actual_address
  - phone, email
  - bik, bank_name, payment_account, correspondent_account
  - director_name, director_position
  - status ('active' / 'inactive')
  - created_by (user_id —Å–æ–∑–¥–∞—Ç–µ–ª—è)
  - created_at, updated_at
```

#### user_organizations (—Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å-–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)
```
user_organizations:
  - id
  - user_id ‚Üí users.id
  - organization_id ‚Üí organizations.id
  - role ('admin') ‚Äî –Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã
  - created_at
  UNIQUE(user_id, organization_id)
```

#### organization_invites (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)
```
organization_invites:
  - id
  - organization_id ‚Üí organizations.id
  - phone (–Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ)
  - email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - invited_by ‚Üí users.id (–∫—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª)
  - token (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
  - status ('pending' / 'accepted' / 'expired')
  - expires_at (–¥–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è)
  - created_at
```

#### client_contractors (—Å–≤—è–∑—å –∑–∞–∫–∞–∑—á–∏–∫-–ø–æ–¥—Ä—è–¥—á–∏–∫)
```
client_contractors:
  - id
  - client_id ‚Üí organizations.id (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è-–∑–∞–∫–∞–∑—á–∏–∫)
  - contractor_id ‚Üí organizations.id (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è-–ø–æ–¥—Ä—è–¥—á–∏–∫)
  - added_at
  UNIQUE(client_id, contractor_id)
```

---

### 7. –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

#### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–∞–∑—á–∏–∫–∞
```
1. –ò–≤–∞–Ω–æ–≤ –ò.–ò. —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É +79991234567
2. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: users.role = 'client'
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é: "–û–û–û –°—Ç—Ä–æ–π-–ò–Ω–≤–µ—Å—Ç", type = 'client'
   - –°–≤—è–∑—å: user_organizations (role = 'admin')
3. –ò–≤–∞–Ω–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (4 —à–∞–≥–∞), –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. onboarding_completed = true
5. –ò–≤–∞–Ω–æ–≤ –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–∫–∞–∑—á–∏–∫ –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
```
1. –ò–≤–∞–Ω–æ–≤ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä "–û–û–û –°—Ç—Ä–æ–π-–ò–Ω–≤–µ—Å—Ç") –ø—Ä–∏–≥–ª–∞—à–∞–µ—Ç –°–∏–¥–æ—Ä–æ–≤–∞
2. –£–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω +79997654321
3. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ organization_invites
4. –°–∏–¥–æ—Ä–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É +79997654321
5. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ, —Å–≤—è–∑—ã–≤–∞–µ—Ç –°–∏–¥–æ—Ä–æ–≤–∞ —Å "–û–û–û –°—Ç—Ä–æ–π-–ò–Ω–≤–µ—Å—Ç"
6. –°–∏–¥–æ—Ä–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (–¢–û–õ–¨–ö–û –®–ê–ì 1 ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
7. –°–∏–¥–æ—Ä–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ "–û–û–û –°—Ç—Ä–æ–π-–ò–Ω–≤–µ—Å—Ç"
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ó–∞–∫–∞–∑—á–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
```
1. –ò–≤–∞–Ω–æ–≤ (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä "–û–û–û –°—Ç—Ä–æ–π-–ò–Ω–≤–µ—Å—Ç") –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç "–ü–æ–¥—Ä—è–¥—á–∏–∫–∏"
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞"
3. –ó–∞–ø–æ–ª–Ω—è–µ—Ç:
   - –ò–ù–ù: 7707654321
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–û–û–û –ú–æ–Ω—Ç–∞–∂-–°—Ç—Ä–æ–π"
   - –¢–µ–ª–µ—Ñ–æ–Ω: +79995556677
4. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ò–ù–ù ‚Äî –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –Ω–µ—Ç
5. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç:
   - –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é "–û–û–û –ú–æ–Ω—Ç–∞–∂-–°—Ç—Ä–æ–π" (type = 'contractor')
   - –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–∞ +79995556677
   - –°–≤—è–∑—å –≤ client_contractors
6. –ü–µ—Ç—Ä–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É +79995556677
7. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –ü–µ—Ç—Ä–æ–≤–∞ –∫ "–û–û–û –ú–æ–Ω—Ç–∞–∂-–°—Ç—Ä–æ–π" (role = 'admin')
8. –ü–µ—Ç—Ä–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ (4 —à–∞–≥–∞), –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
9. –ü–µ—Ç—Ä–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º "–û–û–û –ú–æ–Ω—Ç–∞–∂-–°—Ç—Ä–æ–π"
10. –ò–≤–∞–Ω–æ–≤ –º–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ "–û–û–û –ú–æ–Ω—Ç–∞–∂-–°—Ç—Ä–æ–π"
```

#### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ó–∞–∫–∞–∑—á–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
```
1. –ò–≤–∞–Ω–æ–≤ —Ö–æ—á–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
2. –í–≤–æ–¥–∏—Ç –ò–ù–ù 7707999888
3. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é "–û–û–û –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂" —Å —ç—Ç–∏–º –ò–ù–ù
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å?"
5. –ò–≤–∞–Ω–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç
6. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç —Å–≤—è–∑—å –≤ client_contractors
7. "–û–û–û –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂" –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ –ò–≤–∞–Ω–æ–≤–∞
8. –ò–≤–∞–Ω–æ–≤ –º–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
```

---

## –û–ë–™–ï–ö–¢–´ –°–¢–†–û–ò–¢–ï–õ–¨–°–¢–í–ê

### –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—ä–µ–∫—Ç?
–û–±—ä–µ–∫—Ç ‚Äî —ç—Ç–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –º–µ—Å—Ç–æ, –≥–¥–µ –≤–µ–¥—É—Ç—Å—è —Ä–∞–±–æ—Ç—ã (–∑–¥–∞–Ω–∏–µ, –∫–æ—Ä–ø—É—Å, —É—á–∞—Å—Ç–æ–∫ –¥–æ—Ä–æ–≥–∏, —Å–æ–æ—Ä—É–∂–µ–Ω–∏–µ –∏ —Ç.–¥.).

**–ö—Ä–∏—Ç–∏—á–Ω–æ:** –û–±—ä–µ–∫—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç **–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º-–∑–∞–∫–∞–∑—á–∏–∫–∞–º**, –∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞:
```
objects:
  - id
  - title (–Ω–∞–∑–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞)
  - address (–∞–¥—Ä–µ—Å)
  - description (–æ–ø–∏—Å–∞–Ω–∏–µ)
  - client_id ‚Üí organizations.id (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è-–∑–∞–∫–∞–∑—á–∏–∫)
  - status ('active' / 'paused' / 'completed')
  - created_at, updated_at
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞:
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞ –Ω–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç"
2. –ó–∞–ø–æ–ª–Ω—è–µ—Ç:
   - –ù–∞–∑–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –ê–¥—Ä–µ—Å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
   - –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `client_id` = ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤:
**–î–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞:**
```sql
SELECT objects.*
FROM objects
JOIN user_organizations uo ON objects.client_id = uo.organization_id
WHERE uo.user_id = current_user_id
```

**–î–ª—è –ø–æ–¥—Ä—è–¥—á–∏–∫–∞:**
```sql
SELECT DISTINCT objects.*
FROM objects
JOIN works ON objects.id = works.object_id
JOIN user_organizations uo ON works.contractor_organization_id = uo.organization_id
WHERE uo.user_id = current_user_id
```

---

## –°–ü–†–ê–í–û–ß–ù–ò–ö –†–ê–ë–û–¢ (Work Templates)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
work_templates:
  - id
  - code (–∫–æ–¥ —Ä–∞–±–æ—Ç—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä "–ö–°-01")
  - title (–Ω–∞–∑–≤–∞–Ω–∏–µ)
  - description (–æ–ø–∏—Å–∞–Ω–∏–µ)
  - category (–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
  - normative_ref (–Ω–æ—Ä–º–∞—Ç–∏–≤—ã)
  - material_types (–º–∞—Ç–µ—Ä–∏–∞–ª—ã)
  - control_points (—Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è, JSONB)
  - created_at
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:
- –û–±—â–µ—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –ó–µ–º–ª—è–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –ö–∞–º–µ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –ë–µ—Ç–æ–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –ú–æ–Ω—Ç–∞–∂ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- –ö—Ä–æ–≤–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –û—Ç–¥–µ–ª–æ—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –≠–ª–µ–∫—Ç—Ä–æ–º–æ–Ω—Ç–∞–∂–Ω—ã–µ —Ä–∞–±–æ—Ç—ã
- –°–∞–Ω—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∞–±–æ—Ç—ã
- –í–µ–Ω—Ç–∏–ª—è—Ü–∏—è –∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û:** –†–∞–±–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞. –ü–æ–ª–µ `template_id` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

---

## –†–ê–ë–û–¢–´ –ù–ê –û–ë–™–ï–ö–¢–ê–•

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
works:
  - id
  - title (–Ω–∞–∑–≤–∞–Ω–∏–µ)
  - description (–æ–ø–∏—Å–∞–Ω–∏–µ)
  - object_id ‚Üí objects.id
  - contractor_organization_id ‚Üí organizations.id (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è-–ø–æ–¥—Ä—è–¥—á–∏–∫)
  - template_id ‚Üí work_templates.id (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
  - status ('pending' / 'in_progress' / 'on_review' / 'completed' / 'rejected')
  - start_date, end_date (—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ)
  - planned_start_date, planned_end_date (–ø–ª–∞–Ω–æ–≤—ã–µ)
  - completion_percentage (0-100)
  - photos (JSONB)
  - materials (JSONB)
  - created_at, updated_at
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç
2. –ù–∞–∂–∏–º–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É"
3. –í—ã–±–∏—Ä–∞–µ—Ç —à–∞–±–ª–æ–Ω –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
4. –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —à–∞–±–ª–æ–Ω–∞
5. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, –≤—ã–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ä—è–¥—á–∏–∫–∞, —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞—Ç—ã
6. –†–∞–±–æ—Ç–∞ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å `contractor_organization_id` = ID –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–±–æ—Ç:
**–î–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞:**
```sql
SELECT works.*
FROM works
JOIN objects ON works.object_id = objects.id
JOIN user_organizations uo ON objects.client_id = uo.organization_id
WHERE uo.user_id = current_user_id
```

**–î–ª—è –ø–æ–¥—Ä—è–¥—á–∏–∫–∞:**
```sql
SELECT works.*
FROM works
JOIN user_organizations uo ON works.contractor_organization_id = uo.organization_id
WHERE uo.user_id = current_user_id
```

---

## –ñ–ò–ó–ù–ï–ù–ù–´–ô –¶–ò–ö–õ –†–ê–ë–û–¢

### –°—Ç–∞—Ç—É—Å—ã:
1. **pending** ‚Äî –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞
2. **in_progress** ‚Äî –≤ —Ä–∞–±–æ—Ç–µ
3. **on_review** ‚Äî –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
4. **completed** ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
5. **rejected** ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞

### –ü–µ—Ä–µ—Ö–æ–¥—ã:
```
pending ‚Üí in_progress ‚Üí on_review ‚Üí completed
                            ‚Üì
                        rejected ‚Üí in_progress
```

### –ö—Ç–æ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã:

| –ü–µ—Ä–µ—Ö–æ–¥ | –ö—Ç–æ | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ |
|---------|-----|------------------|
| pending ‚Üí in_progress | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | `works.contractor_organization_id IN (–º–æ–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)` |
| in_progress ‚Üí on_review | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | –¢–æ –∂–µ |
| on_review ‚Üí completed | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞ | `objects.client_id IN (–º–æ–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)` |
| on_review ‚Üí rejected | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∞ | –¢–æ –∂–µ |
| rejected ‚Üí in_progress | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | `works.contractor_organization_id IN (–º–æ–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)` |

---

## –ü–†–ê–í–ê –î–û–°–¢–£–ü–ê

### –ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤:

| –î–µ–π—Å—Ç–≤–∏–µ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥-—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞ | –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥-—Ü–∏–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ | –°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω |
|----------|----------------------------------|-----------------------------------|-----------------|
| **–û–†–ì–ê–ù–ò–ó–ê–¶–ò–ò** |
| –°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é | ‚úÖ (–ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏) | ‚ùå (—Ç–æ–ª—å–∫–æ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é) | ‚úÖ |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é | ‚úÖ (—Å–≤–æ—é) | ‚úÖ (—Å–≤–æ—é) | ‚úÖ (–ª—é–±—É—é) |
| –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ | ‚úÖ | ‚úÖ | ‚úÖ |
| –î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ | ‚úÖ | ‚ùå | ‚úÖ |
| **–û–ë–™–ï–ö–¢–´** |
| –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç | ‚úÖ | ‚ùå | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±—ä–µ–∫—Ç—ã | ‚úÖ (—Å–≤–æ–∏—Ö –æ—Ä–≥-—Ü–∏–π) | ‚úÖ (–≥–¥–µ –µ—Å—Ç—å —Ä–∞–±–æ—Ç—ã) | ‚úÖ (–≤—Å–µ) |
| –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç | ‚úÖ | ‚ùå | ‚úÖ |
| **–†–ê–ë–û–¢–´** |
| –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—Ç—É | ‚úÖ | ‚ùå | ‚úÖ |
| –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—Ç—ã | ‚úÖ (–Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö —Å–≤–æ–∏—Ö –æ—Ä–≥-—Ü–∏–π) | ‚úÖ (—Å–≤–æ–∏—Ö –æ—Ä–≥-—Ü–∏–π) | ‚úÖ (–≤—Å–µ) |
| –ù–∞—á–∞—Ç—å/–∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É | ‚ùå | ‚úÖ | ‚úÖ |
| –ü—Ä–∏–Ω—è—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å —Ä–∞–±–æ—Ç—É | ‚úÖ | ‚ùå | ‚úÖ |

---

## –°–í–Ø–ó–ò –ú–ï–ñ–î–£ –°–£–©–ù–û–°–¢–Ø–ú–ò

```
users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
  ‚îú‚îÄ‚îÄ role: 'client' / 'contractor' / 'admin'
  ‚îî‚îÄ‚îÄ –°–≤—è–∑–∞–Ω—ã —Å organizations —á–µ—Ä–µ–∑ user_organizations

user_organizations
  ‚îú‚îÄ‚îÄ user_id ‚Üí users.id
  ‚îú‚îÄ‚îÄ organization_id ‚Üí organizations.id
  ‚îî‚îÄ‚îÄ role: 'admin' (–Ω–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã)

organizations
  ‚îú‚îÄ‚îÄ type: 'client' / 'contractor'
  ‚îú‚îÄ‚îÄ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏-–∑–∞–∫–∞–∑—á–∏–∫–∏ –≤–ª–∞–¥–µ—é—Ç objects
  ‚îî‚îÄ‚îÄ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º-–ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è works

objects
  ‚îú‚îÄ‚îÄ client_id ‚Üí organizations.id
  ‚îî‚îÄ‚îÄ –°–æ–¥–µ—Ä–∂–∏—Ç works

works
  ‚îú‚îÄ‚îÄ object_id ‚Üí objects.id
  ‚îú‚îÄ‚îÄ contractor_organization_id ‚Üí organizations.id
  ‚îî‚îÄ‚îÄ template_id ‚Üí work_templates.id (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)

client_contractors (—Å–≤—è–∑—å –∑–∞–∫–∞–∑—á–∏–∫-–ø–æ–¥—Ä—è–¥—á–∏–∫)
  ‚îú‚îÄ‚îÄ client_id ‚Üí organizations.id
  ‚îî‚îÄ‚îÄ contractor_id ‚Üí organizations.id

organization_invites (–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è)
  ‚îú‚îÄ‚îÄ organization_id ‚Üí organizations.id
  ‚îî‚îÄ‚îÄ phone (–Ω–æ–º–µ—Ä –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ)
```

---

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–≠—Ç–æ –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Å —É—á—ë—Ç–æ–º **–∞–∫—Ç—É–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π**.

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –¢–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—á–∏–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
- –ü–æ–¥—Ä—è–¥—á–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—é –æ—Ç –∑–∞–∫–∞–∑—á–∏–∫–∞
- –í –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã (user_organizations.role = 'admin')
- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ 4 —à–∞–≥–∞: 1-–π –¥–ª—è –≤—Å–µ—Ö, 2-4 —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –û–±—ä–µ–∫—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º-–∑–∞–∫–∞–∑—á–∏–∫–∞–º
- –†–∞–±–æ—Ç—ã –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º-–ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º
- –†–∞–±–æ—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

–ü–æ —ç—Ç–æ–º—É –¥–æ–∫—É–º–µ–Ω—Ç—É –º–æ–∂–Ω–æ –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª! üöÄ
