# üöÄ –°–ò–°–¢–ï–ú–ê –ö–û–ù–¢–†–û–õ–Ø –°–¢–†–û–ò–¢–ï–õ–¨–°–¢–í–ê - –†–£–ö–û–í–û–î–°–¢–í–û –î–õ–Ø –ê–°–°–ò–°–¢–ï–ù–¢–ê

> **–ö–†–ò–¢–ò–ß–ù–û**: –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π —ç—Ç–æ—Ç —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –∏ –æ–±–Ω–æ–≤–ª—è–π –µ–≥–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ!

---

## üìã –û–ì–õ–ê–í–õ–ï–ù–ò–ï
1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö)
3. [Backend —Ñ—É–Ω–∫—Ü–∏–∏](#backend-—Ñ—É–Ω–∫—Ü–∏–∏)
4. [Frontend —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#frontend-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
5. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Dashboard](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-dashboard)
6. [–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å](#—Ç–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏)
7. [–ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π](#—á–µ–∫-–ª–∏—Å—Ç)

---

## üèóÔ∏è –û–ë–©–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–±–æ—Ç:
- **–ó–∞–∫–∞–∑—á–∏–∫–∏ (clients)** —Å–æ–∑–¥–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã, —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏
- **–ü–æ–¥—Ä—è–¥—á–∏–∫–∏ (contractors)** –≤–µ–¥—É—Ç –∂—É—Ä–Ω–∞–ª—ã —Ä–∞–±–æ—Ç, –æ—Ç—á–∏—Ç—ã–≤–∞—é—Ç—Å—è
- **–ê–¥–º–∏–Ω—ã** —É–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Å–∏—Å—Ç–µ–º–æ–π

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
```
Frontend:  React 18 + TypeScript + Vite + Tailwind CSS + shadcn/ui
           Redux Toolkit (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º)
           Axios (HTTP –∫–ª–∏–µ–Ω—Ç —Å interceptors)
Backend:   Python 3.11 (Cloud Functions)
Database:  PostgreSQL (Simple Query Protocol ONLY!)
Auth:      JWT —Ç–æ–∫–µ–Ω—ã –≤ localStorage + Redux
Icons:     lucide-react —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Icon
```

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ù–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (—Å 2025-10-20)

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º: Redux Toolkit**
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π React.Context –¥–ª—è –¥–∞–Ω–Ω—ã—Ö (–∫—Ä–æ–º–µ AuthContext - –≤—Ä–µ–º–µ–Ω–Ω–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏ –≤ Redux slices
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π createAsyncThunk –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π selectors –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

**HTTP –∫–ª–∏–µ–Ω—Ç: Axios —á–µ—Ä–µ–∑ apiClient**
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π fetch() –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π apiClient –∏–∑ src/api/apiClient.ts
- ‚úÖ –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ src/api/endpoints.ts
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ interceptor

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–•

### –°—Ö–µ–º–∞
`t_p8942561_contractor_control_s`

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ü–†–û–°–¢–û–ô –ü–†–û–¢–û–ö–û–õ –ó–ê–ü–†–û–°–û–í
**–í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π Simple Query Protocol:**
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å `%s`, `$1`, –∏ —Ç.–¥.
- ‚úÖ –ü–æ–¥—Å—Ç–∞–≤–ª—è–π –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é –≤ SQL —Å —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ –ü—Ä–∏–º–µ—Ä: `WHERE id = 123` –≤–º–µ—Å—Ç–æ `WHERE id = %s`

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∑–∏

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –¥–æ—Å—Ç—É–ø
```
users (id, email, phone, password_hash, name, role, organization)
  ‚Üì
user_sessions (session_token, user_id, expires_at)
verification_codes (code, phone, expires_at)
```

#### –ò–µ—Ä–∞—Ä—Ö–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
```
objects (id, title, address, client_id, status)
  ‚Üì
works (id, object_id, title, contractor_id, status, start_date, end_date, completion_percentage)
  ‚Üì
work_logs (id, work_id, log_type, date, description, author_id)
inspections (id, work_id, inspection_number, status, scheduled_date, created_by)
```

#### –°–æ–±—ã—Ç–∏—è –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
```
inspection_events (id, inspection_id, event_type, created_by, metadata)
  - event_type: 'scheduled', 'started', 'completed', 'rescheduled'
  - metadata: jsonb —Å –¥–æ–ø. –¥–∞–Ω–Ω—ã–º–∏ (scheduled_date, defects_count, etc.)

chat_messages (id, work_id, sender_id, message, created_at)

info_posts (id, object_id, title, content, author_id, created_at)
```

#### –î–µ—Ñ–µ–∫—Ç—ã –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ
```
defect_reports (id, inspection_id, title, defects jsonb[], created_by)
  ‚Üì
defect_remediations (id, report_id, defect_id, status, remediated_at)
```

#### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
```
work_templates (id, client_id, name, description, checkpoints jsonb[])
work_types (id, name, category, description)
client_contractors (client_id, contractor_id, status)
```

### –í–∞–∂–Ω—ã–µ –ø–æ–ª—è –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è

**works.status:**
- `active` - –≤ —Ä–∞–±–æ—Ç–µ
- `completed` - –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- `delayed` - –∑–∞–¥–µ—Ä–∂–∫–∞

**inspections.status:**
- `draft` - –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞
- `active` - –Ω–∞—á–∞—Ç–∞
- `completed` - –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**users.role:**
- `client` - –∑–∞–∫–∞–∑—á–∏–∫
- `contractor` - –ø–æ–¥—Ä—è–¥—á–∏–∫
- `admin` - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

---

## üîß BACKEND –§–£–ù–ö–¶–ò–ò

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
`/backend/[function-name]/index.py`

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤ backend
```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - Simple Query
import psycopg2
from psycopg2.extras import RealDictCursor
conn = psycopg2.connect(dsn)
cursor = conn.cursor(cursor_factory=RealDictCursor)
cursor.execute(f"SELECT * FROM users WHERE id = {user_id}")

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - Extended Query (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!)
cursor.execute("SELECT * FROM users WHERE id = %s", (user_id,))
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `auth/` - –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é
- `register/` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `send-verification-code/` - –æ—Ç–ø—Ä–∞–≤–∫–∞ SMS –∫–æ–¥–∞
- `verify-code/` - –ø—Ä–æ–≤–µ—Ä–∫–∞ SMS –∫–æ–¥–∞ –∏ –≤—Ö–æ–¥

#### –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `user-data/` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–±—ä–µ–∫—Ç—ã, —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏, —Å–æ–æ–±—â–µ–Ω–∏—è)
- `create-data/` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤/—Ä–∞–±–æ—Ç/–ø—Ä–æ–≤–µ—Ä–æ–∫/–∑–∞–ø–∏—Å–µ–π
- `update-data/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `mark-seen/` - –ø–æ–º–µ—Ç–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–≥–æ

#### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `get-feed/` - **–ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø** - –ª–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π –¥–ª—è dashboard (work_logs, inspections, info_posts)
- `inspection-event/` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- `work-status/` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–±–æ—Ç—ã
- `invite-contractor/` - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
- `link-contractor/` - –ø—Ä–∏–≤—è–∑–∫–∞ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ –∫ –∑–∞–∫–∞–∑—á–∏–∫—É
- `get-contractor-tasks/` - –∑–∞–¥–∞—á–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
- `defect-reports/` - —Ä–∞–±–æ—Ç–∞ —Å –æ—Ç—á–µ—Ç–∞–º–∏ –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
- `defect-remediation/` - —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤

#### –ê–¥–º–∏–Ω —Ñ—É–Ω–∫—Ü–∏–∏
- `admin/` - –≤—Ö–æ–¥ –∞–¥–º–∏–Ω–∞
- `admin-users/` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `work-types/` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ —Ä–∞–±–æ—Ç

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ backend
```python
return {
    'statusCode': 200,
    'headers': {
        'Content-Type': 'application/json',
        'Access-Control-Allow-Origin': '*'
    },
    'isBase64Encoded': False,
    'body': json.dumps({'data': result})
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ DATABASE_URL
```python
import os
DSN = os.environ.get('DATABASE_URL')
```

---

## üé® FRONTEND –°–¢–†–£–ö–¢–£–†–ê

### –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞
```
src/main.tsx (Redux Provider) ‚Üí src/App.tsx ‚Üí src/components/Layout.tsx
```

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: Redux Toolkit Architecture

**Store —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
src/store/
‚îú‚îÄ‚îÄ store.ts              // configureStore —Å Redux DevTools
‚îú‚îÄ‚îÄ hooks.ts              // useAppDispatch, useAppSelector
‚îî‚îÄ‚îÄ slices/
    ‚îú‚îÄ‚îÄ userSlice.ts      // auth + userData
    ‚îú‚îÄ‚îÄ objectsSlice.ts   // CRUD –æ–±—ä–µ–∫—Ç–æ–≤
    ‚îú‚îÄ‚îÄ worksSlice.ts     // CRUD —Ä–∞–±–æ—Ç
    ‚îú‚îÄ‚îÄ workLogsSlice.ts  // –∂—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç
    ‚îú‚îÄ‚îÄ inspectionsSlice.ts  // –ø—Ä–æ–≤–µ—Ä–∫–∏
    ‚îú‚îÄ‚îÄ chatMessagesSlice.ts  // —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
    ‚îú‚îÄ‚îÄ defectReportsSlice.ts  // –æ—Ç—á–µ—Ç—ã –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
    ‚îî‚îÄ‚îÄ contractorsSlice.ts  // –ø–æ–¥—Ä—è–¥—á–∏–∫–∏
```

**API Client:**
```typescript
src/api/
‚îú‚îÄ‚îÄ apiClient.ts          // Axios instance —Å interceptors
‚îî‚îÄ‚îÄ endpoints.ts          // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Å–µ—Ö URL
```

**–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å Redux:**

1. **–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º:**
```typescript
// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π Context
const { user } = useAuth(); // —Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π Redux
import { useAppSelector } from '@/store/hooks';
const user = useAppSelector((state) => state.user.user);
```

2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π API –Ω–∞–ø—Ä—è–º—É—é
await fetch('/api/objects', { method: 'POST', body: ... });

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π Redux thunks
import { useAppDispatch } from '@/store/hooks';
import { createObject } from '@/store/slices/objectsSlice';

const dispatch = useAppDispatch();
await dispatch(createObject({ title: '–ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç', ... }));
```

3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤:**
```typescript
// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π userData.objects
const objects = userData?.objects || [];

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π slice –Ω–∞–ø—Ä—è–º—É—é
const objects = useAppSelector((state) => state.objects.items);
```

4. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤:**
```typescript
// –î–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π selectors
// src/store/slices/objectsSlice.ts
export const selectActiveObjects = (state: RootState) => 
  state.objects.items.filter(obj => obj.status === 'active');

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const activeObjects = useAppSelector(selectActiveObjects);
```

5. **Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```typescript
// –ö–∞–∂–¥—ã–π slice –∏–º–µ–µ—Ç loading/error
const { loading, error } = useAppSelector((state) => state.objects);

if (loading) return <Skeleton />;
if (error) return <ErrorMessage text={error} />;
```

**API Client –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```typescript
// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π fetch
const response = await fetch('/api/objects');

// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π apiClient
import { apiClient } from '@/api/apiClient';
import { ENDPOINTS } from '@/api/endpoints';

const response = await apiClient.get(ENDPOINTS.USER.DATA);
// –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ thunk:
const response = await apiClient.post(ENDPOINTS.ENTITIES.CREATE, { 
  type: 'object', 
  data: { title: '–ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç' }
});
```

### –†–æ—É—Ç–∏–Ω–≥ (src/App.tsx)
```
/login, /register - –ø—É–±–ª–∏—á–Ω—ã–µ
/dashboard - –≥–ª–∞–≤–Ω–∞—è (–ª–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π)
/objects - —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
/objects/:objectId - –¥–µ—Ç–∞–ª–∏ –æ–±—ä–µ–∫—Ç–∞
/objects/:objectId/works/:workId - –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã
/inspection/:inspectionId - –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
/defect-report/:reportId - –æ—Ç—á–µ—Ç –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
/my-works - —Ä–∞–±–æ—Ç—ã –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
/contractors - –ø–æ–¥—Ä—è–¥—á–∏–∫–∏
/analytics - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
/admin - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
src/components/
‚îú‚îÄ‚îÄ ui/                          # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ icon.tsx                 # ‚ö†Ô∏è –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π –¥–ª—è –∏–∫–æ–Ω–æ–∫!
‚îÇ   ‚îú‚îÄ‚îÄ button.tsx, input.tsx, dialog.tsx, etc.
‚îÇ
‚îú‚îÄ‚îÄ layout/                      # –ù–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ TopNavigation.tsx        # –í–µ—Ä—Ö–Ω–µ–µ –º–µ–Ω—é (desktop)
‚îÇ   ‚îú‚îÄ‚îÄ BottomNavigation.tsx     # –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é (mobile)
‚îÇ
‚îú‚îÄ‚îÄ dashboard/                   # Dashboard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ FeedEventCard.tsx        # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–±—ã—Ç–∏—è –≤ –ª–µ–Ω—Ç–µ
‚îÇ   ‚îú‚îÄ‚îÄ FeedFilters.tsx          # –§–∏–ª—å—Ç—Ä—ã –ª–µ–Ω—Ç—ã (–≤—Å–µ/–∂—É—Ä–Ω–∞–ª/–ø—Ä–æ–≤–µ—Ä–∫–∏/–∏–Ω—Ñ–æ + —Ç–µ–≥–∏)
‚îÇ   ‚îú‚îÄ‚îÄ CreateActionButton.tsx   # –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ JournalEntryModal.tsx    # –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ CreateInspectionWithWorkSelect.tsx  # –ú–æ–¥–∞–ª–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ InfoPostModal.tsx        # –ú–æ–¥–∞–ª–∫–∞ –∏–Ω—Ñ–æ-–ø–æ—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ DashboardStats.tsx       # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ dashboard
‚îÇ
‚îú‚îÄ‚îÄ objects/                     # –û–±—ä–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ObjectsGridView.tsx      # –°–µ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ObjectsTableView.tsx     # –¢–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ work-journal/                # –ñ—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ WorksList.tsx            # –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ JournalTabContent.tsx    # –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–∫–∏ –∂—É—Ä–Ω–∞–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ CreateInspectionSimple.tsx
‚îÇ   ‚îú‚îÄ‚îÄ NotificationsSummary.tsx # –°–≤–æ–¥–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ
‚îú‚îÄ‚îÄ inspection/                  # –ü—Ä–æ–≤–µ—Ä–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ InspectionHeader.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DefectsSection.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ControlPointsSection.tsx
‚îÇ
‚îú‚îÄ‚îÄ defect-report/               # –û—Ç—á–µ—Ç—ã –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ DefectReportHeader.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DefectItem.tsx
‚îÇ
‚îú‚îÄ‚îÄ admin/                       # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ UsersTable.tsx
‚îÇ   ‚îú‚îÄ‚îÄ AdminWorkTypes.tsx
‚îÇ
‚îú‚îÄ‚îÄ onboarding/                  # –û–Ω–±–æ—Ä–¥–∏–Ω–≥
‚îÇ   ‚îú‚îÄ‚îÄ OnboardingFlow.tsx       # –ü–æ—à–∞–≥–æ–≤—ã–π —Ç—É—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –°—Ç—Ä–∞–Ω–∏—Ü—ã (src/pages/)

```
Dashboard.tsx         - –ª–µ–Ω—Ç–∞ —Å–æ–±—ã—Ç–∏–π (–≥–ª–∞–≤–Ω–∞—è)
Objects.tsx           - —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
ObjectDetail.tsx      - –¥–µ—Ç–∞–ª–∏ –æ–±—ä–µ–∫—Ç–∞ + —Ä–∞–±–æ—Ç—ã
WorkDetail.tsx        - –¥–µ—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç—ã + –∂—É—Ä–Ω–∞–ª
InspectionDetail.tsx  - –ø—Ä–æ–≤–µ—Ä–∫–∞ + –¥–µ—Ñ–µ–∫—Ç—ã
MyWorks.tsx           - —Ä–∞–±–æ—Ç—ã –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
Contractors.tsx       - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º–∏
Analytics.tsx         - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
Admin.tsx             - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
```

---

## üìÑ –°–¢–†–ê–ù–ò–¶–´ –ò –†–û–£–¢–ò–ù–ì

### Dashboard (src/pages/Dashboard.tsx) - `/dashboard`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `backend/get-feed/`
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è (–≤—Å–µ/–∂—É—Ä–Ω–∞–ª/–ø—Ä–æ–≤–µ—Ä–∫–∏/–∏–Ω—Ñ–æ)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–µ–≥–∞–º (–æ–±—ä–µ–∫—Ç—ã/—Ä–∞–±–æ—Ç—ã/–ø–æ–¥—Ä—è–¥—á–∏–∫–∏) —Å —É–º–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –ü–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å–æ–±—ã—Ç–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –∂—É—Ä–Ω–∞–ª–∞, –ø—Ä–æ–≤–µ—Ä–æ–∫, –∏–Ω—Ñ–æ-–ø–æ—Å—Ç–æ–≤

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –≤ –ª–µ–Ω—Ç–µ:**
```typescript
interface FeedEvent {
  id: string;
  type: 'work_log' | 'inspection' | 'info_post';
  inspectionType?: 'scheduled' | 'unscheduled';
  inspectionNumber?: string;
  title: string;
  description: string;
  timestamp: string;
  status?: string;
  workId?: number;
  objectId?: number;
  objectTitle?: string;
  workTitle?: string;
  author?: string;
  photoUrls?: string[];
  materials?: string;
  volume?: string;
  defects?: string;
  defectsCount?: number;
  scheduledDate?: string;
}
```

**–ó–∞–≥—Ä—É–∑–∫–∞ –ª–µ–Ω—Ç—ã:**
```typescript
const loadFeed = async () => {
  const url = `${ENDPOINTS.FEED}?user_id=${user.id}`;
  const response = await apiClient.get(url);
  
  if (response.success) {
    const rawEvents = (response as any).events || [];
    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è photoUrls –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤ –º–∞—Å—Å–∏–≤
    const normalizedEvents = rawEvents.map((event: any) => {
      if (event.photoUrls && typeof event.photoUrls === 'string') {
        try {
          event.photoUrls = JSON.parse(event.photoUrls);
        } catch {
          event.photoUrls = [event.photoUrls];
        }
      }
      return event;
    });
    setFeed(normalizedEvents);
  }
};
```

### –§–∏–ª—å—Ç—Ä—ã (src/components/dashboard/FeedFilters.tsx)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç FeedFilters:**
- –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –ø–æ–∏—Å–∫–∞
- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è (–í—Å–µ/–ñ—É—Ä–Ω–∞–ª/–ü—Ä–æ–≤–µ—Ä–∫–∏/–ò–Ω—Ñ–æ) —á–µ—Ä–µ–∑ Popover
- –§–∏–ª—å—Ç—Ä—ã –ø–æ —Ç–µ–≥–∞–º (–û–±—ä–µ–∫—Ç—ã/–†–∞–±–æ—Ç—ã/–ü–æ–¥—Ä—è–¥—á–∏–∫–∏) —Å —Å—á–µ—Ç—á–∏–∫–∞–º–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥** —Ñ–∏–ª—å—Ç—Ä–æ–≤ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞)
- –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ç–µ–≥–æ–≤: —Ç–µ–≥ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```typescript
interface FeedFiltersProps {
  filter: 'all' | 'work_logs' | 'inspections' | 'info_posts';
  onFilterChange: (filter) => void;
  selectedTags: string[];
  onTagsChange: (tags: string[]) => void;
  availableTags: Array<{ 
    id: string; 
    label: string; 
    type: 'object' | 'work' | 'contractor'; 
    workIds?: number[] 
  }>;
  feed: any[];
  works: any[];
  searchQuery: string;
  onSearchChange: (query: string) => void;
}
```

**–õ–æ–≥–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ç–µ–≥–æ–≤:**
```typescript
const isTagAvailable = (tagId: string, tagType: 'object' | 'work' | 'contractor'): boolean => {
  // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ, –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã
  if (selectedTags.length === 0) return true;

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –≤ feed —Å–æ–±—ã—Ç–∏—è, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å —ç—Ç–∏–º —Ç–µ–≥–æ–º
  const hasCompatibleEvents = feed.some(event => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏
    const objectMatch = selectedObjects.length === 0 || selectedObjects.includes(eventObjectId);
    const workMatch = selectedWorks.length === 0 || selectedWorks.includes(eventWorkId);
    const contractorMatch = selectedContractors.length === 0 || selectedContractors.includes(eventContractor);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–¥—Ö–æ–¥–∏—Ç –ª–∏ —Å–æ–±—ã—Ç–∏–µ –∫ –Ω–æ–≤–æ–º—É —Ç–µ–≥—É
    if (tagType === 'object') {
      return tagId === eventObjectId && workMatch && contractorMatch;
    }
    // ... –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è work –∏ contractor
  });

  return hasCompatibleEvents;
};
```

**–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥:**
```typescript
<div className="flex gap-2 overflow-x-auto pb-2 scrollbar-hide"
     style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}>
  {/* –§–∏–ª—å—Ç—Ä—ã */}
</div>

// –í src/index.css:
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
```

### –ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ–±—ã—Ç–∏–π (src/components/dashboard/FeedEventCard.tsx)

**–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç:**
- –¢–∏–ø —Å–æ–±—ã—Ç–∏—è —Å –∏–∫–æ–Ω–∫–æ–π (–∂—É—Ä–Ω–∞–ª/–ø—Ä–æ–≤–µ—Ä–∫–∞/–∏–Ω—Ñ–æ)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- –û–±—ä–µ–∫—Ç –∏ —Ä–∞–±–æ—Ç–∞
- –î–∞—Ç–∞ –∏ –∞–≤—Ç–æ—Ä
- –§–æ—Ç–æ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ç–∞—Ç—É—Å (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫)
- –°—á–µ—Ç—á–∏–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤ (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫)

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

**JournalEntryModal** - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞:
- –í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –∏ —Ä–∞–±–æ—Ç—ã
- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç
- –û–±—ä–µ–º –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- –§–æ—Ç–æ (placeholder –¥–ª—è –±—É–¥—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏)

**CreateInspectionWithWorkSelect** - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –í—ã–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞ –∏ —Ä–∞–±–æ—Ç—ã
- –¢–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø–ª–∞–Ω–æ–≤–∞—è/–≤–Ω–µ–ø–ª–∞–Ω–æ–≤–∞—è)
- –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏

**InfoPostModal** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ñ–æ-–ø–æ—Å—Ç–∞:
- –ó–∞–≥–æ–ª–æ–≤–æ–∫
- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- –°—Å—ã–ª–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚ö†Ô∏è –¢–ò–ü–ò–ß–ù–´–ï –û–®–ò–ë–ö–ò

### 1. Backend: Extended Query –≤–º–µ—Å—Ç–æ Simple Query
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
cursor.execute("SELECT * FROM users WHERE id = %s", (user_id,))

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
cursor.execute(f"SELECT * FROM users WHERE id = {user_id}")
```

### 2. Frontend: fetch() –≤–º–µ—Å—Ç–æ apiClient
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const response = await fetch('/api/objects');

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
import { apiClient } from '@/api/apiClient';
import { ENDPOINTS } from '@/api/endpoints';
const response = await apiClient.get(ENDPOINTS.USER.DATA);
```

### 3. Frontend: Context –≤–º–µ—Å—Ç–æ Redux
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const { objects } = useAuth();

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
import { useAppSelector } from '@/store/hooks';
const objects = useAppSelector((state) => state.objects.items);
```

### 4. Frontend: –ü—Ä—è–º–æ–π –∏–º–ø–æ—Ä—Ç –∏–∫–æ–Ω–æ–∫ –≤–º–µ—Å—Ç–æ Icon –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```typescript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
import { Home } from 'lucide-react';
<Home size={24} />

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
import Icon from '@/components/ui/icon';
<Icon name="Home" size={24} />
```

### 5. Backend: –ó–∞–±—ã—Ç—å CORS headers
```python
# ‚úÖ –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–π
'Access-Control-Allow-Origin': '*'
```

### 6. Frontend: –ù–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å photoUrls
```typescript
// ‚úÖ –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π —Ç–∏–ø photoUrls
if (event.photoUrls && typeof event.photoUrls === 'string') {
  try {
    event.photoUrls = JSON.parse(event.photoUrls);
  } catch {
    event.photoUrls = [event.photoUrls];
  }
}
```

---

## ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –ü–ï–†–ï–î –†–ê–ë–û–¢–û–ô

### –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∑–∞–¥–∞—á–∏:
1. ‚òë –ü—Ä–æ—á–∏—Ç–∞–ª SYSTEM_GUIDE.md
2. ‚òë –ü–æ–Ω—è–ª –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Redux (slices, thunks, selectors)
3. ‚òë –ó–Ω–∞—é –≥–¥–µ apiClient –∏ ENDPOINTS
4. ‚òë –ü–æ–º–Ω—é –ø—Ä–æ Simple Query –≤ backend
5. ‚òë –ó–Ω–∞—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É FeedEvent –∏ –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–æ–≤

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å backend:
1. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é psycopg2 —Å RealDictCursor
2. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é Simple Query (f-string), –ù–ï Extended Query (%s)
3. ‚òë –î–æ–±–∞–≤–∏–ª CORS headers –≤ –æ—Ç–≤–µ—Ç
4. ‚òë –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é OPTIONS –¥–ª—è CORS preflight
5. ‚òë –í–æ–∑–≤—Ä–∞—â–∞—é –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å frontend:
1. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é apiClient –∏–∑ @/api/apiClient
2. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é ENDPOINTS –∏–∑ @/api/endpoints
3. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é useAppSelector/useAppDispatch –∏–∑ @/store/hooks
4. ‚òë –ò—Å–ø–æ–ª—å–∑—É—é Icon –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏–∫–æ–Ω–æ–∫
5. ‚òë –ù–æ—Ä–º–∞–ª–∏–∑—É—é photoUrls –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
6. ‚òë –î–æ–±–∞–≤–∏–ª loading/error —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Dashboard:
1. ‚òë –ü–æ–Ω—è–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É FeedEvent
2. ‚òë –ó–Ω–∞—é –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (—Ç–∏–ø + —Ç–µ–≥–∏ + –ø–æ–∏—Å–∫)
3. ‚òë –ó–Ω–∞—é –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç isTagAvailable (—É–º–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
4. ‚òë –ü–æ–º–Ω—é –ø—Ä–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ —Ñ–∏–ª—å—Ç—Ä–æ–≤
5. ‚òë –ó–Ω–∞—é –∫–∞–∫–∏–µ –º–æ–¥–∞–ª–∫–∏ –µ—Å—Ç—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π

---

## üìù –ü–†–ò–ú–ï–†–´ –ö–û–î–ê

### –°–æ–∑–¥–∞–Ω–∏–µ Redux slice
```typescript
import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';
import { apiClient } from '@/api/apiClient';
import { ENDPOINTS } from '@/api/endpoints';

export const fetchItems = createAsyncThunk(
  'items/fetch',
  async (userId: string) => {
    const response = await apiClient.get(`${ENDPOINTS.USER.DATA}?user_id=${userId}`);
    return response.data.items;
  }
);

const itemsSlice = createSlice({
  name: 'items',
  initialState: {
    items: [],
    loading: false,
    error: null
  },
  reducers: {},
  extraReducers: (builder) => {
    builder
      .addCase(fetchItems.pending, (state) => {
        state.loading = true;
      })
      .addCase(fetchItems.fulfilled, (state, action) => {
        state.loading = false;
        state.items = action.payload;
      })
      .addCase(fetchItems.rejected, (state, action) => {
        state.loading = false;
        state.error = action.error.message || 'Error';
      });
  }
});

export default itemsSlice.reducer;
```

### Backend —Ñ—É–Ω–∫—Ü–∏—è —Å Simple Query
```python
import json
import os
from typing import Dict, Any
import psycopg2
from psycopg2.extras import RealDictCursor

def handler(event: Dict[str, Any], context: Any) -> Dict[str, Any]:
    '''
    Business: Get user items
    Args: event with httpMethod, queryStringParameters (user_id)
    Returns: HTTP response with items list
    '''
    method = event.get('httpMethod', 'GET')
    
    if method == 'OPTIONS':
        return {
            'statusCode': 200,
            'headers': {
                'Access-Control-Allow-Origin': '*',
                'Access-Control-Allow-Methods': 'GET, OPTIONS',
                'Access-Control-Allow-Headers': 'Content-Type, X-User-Id, X-Auth-Token',
                'Access-Control-Max-Age': '86400'
            },
            'body': '',
            'isBase64Encoded': False
        }
    
    params = event.get('queryStringParameters', {}) or {}
    user_id = params.get('user_id')
    
    if not user_id:
        return {
            'statusCode': 400,
            'headers': {
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*'
            },
            'body': json.dumps({'error': 'user_id is required'}),
            'isBase64Encoded': False
        }
    
    dsn = os.environ.get('DATABASE_URL')
    conn = psycopg2.connect(dsn)
    cur = conn.cursor(cursor_factory=RealDictCursor)
    
    # ‚úÖ Simple Query - –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞–ø—Ä—è–º—É—é
    cur.execute(f"SELECT * FROM items WHERE user_id = {user_id}")
    items = cur.fetchall()
    
    cur.close()
    conn.close()
    
    return {
        'statusCode': 200,
        'headers': {
            'Content-Type': 'application/json',
            'Access-Control-Allow-Origin': '*'
        },
        'body': json.dumps({
            'success': True,
            'items': [dict(row) for row in items]
        }),
        'isBase64Encoded': False
    }
```

---

## üè¢ –°–¢–†–ê–ù–ò–¶–ê –û–ë–™–ï–ö–¢–û–í

### Objects (src/pages/Objects.tsx) - `/objects`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–∞
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞: —Å–µ—Ç–∫–∞ / —Ç–∞–±–ª–∏—Ü–∞
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É (—Ä–∞–±–æ—Ç—ã, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `ObjectsGridView` - –∫–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å–µ—Ç–∫–µ
- `ObjectsTableView` - —Ç–∞–±–ª–∏—Ü–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π

**–î–∞–Ω–Ω—ã–µ:**
```typescript
// –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Redux
const objects = useAppSelector((state) => state.objects.items);
const works = useAppSelector((state) => state.works.items);
```

### ObjectDetail (src/pages/ObjectDetail.tsx) - `/objects/:objectId`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –î–µ—Ç–∞–ª–∏ –æ–±—ä–µ–∫—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —Å—Ç–∞—Ç—É—Å)
- –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç –Ω–∞ –æ–±—ä–µ–∫—Ç–µ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É / –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É (–≤—Å–µ / –∞–∫—Ç–∏–≤–Ω—ã–µ / –∑–∞–¥–µ—Ä–∂–∞–Ω–Ω—ã–µ / –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø–µ—Ä–≤—É—é —Ä–∞–±–æ—Ç—É** (desktop)

**–°—Ç–∞—Ç—É—Å—ã —Ä–∞–±–æ—Ç:**
```typescript
const statusInfo = getWorkStatusInfo(work);
// status: 'active' | 'delayed' | 'completed' | 'awaiting_start' | 'awaiting_acceptance' | 'planned'
// color: —Ü–≤–µ—Ç badge
// label: —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
```typescript
const priorityOrder = { 
  awaiting_start: 0,      // –û–∂–∏–¥–∞–µ—Ç –Ω–∞—á–∞–ª–∞ (–≤—ã—Å—à–∏–π)
  delayed: 1,             // –ó–∞–¥–µ—Ä–∂–∫–∞
  active: 2,              // –í —Ä–∞–±–æ—Ç–µ
  awaiting_acceptance: 3, // –û–∂–∏–¥–∞–µ—Ç –ø—Ä–∏–µ–º–∫–∏
  completed: 4,           // –ó–∞–≤–µ—Ä—à–µ–Ω–∞
  planned: 5              // –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞
};
```

**–ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–±–æ—Ç—ã:**
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –ø–æ–¥—Ä—è–¥—á–∏–∫
- –°—Ç–∞—Ç—É—Å (badge —Å —Ü–≤–µ—Ç–æ–º)
- –î–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ü—Ä–æ–≥—Ä–µ—Å—Å (progress bar)
- –°—á–µ—Ç—á–∏–∫ –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ö–ª–∏–∫ ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ WorkDetail

---

## üõ†Ô∏è –°–¢–†–ê–ù–ò–¶–ê –†–ê–ë–û–¢–´ –ò –ñ–£–†–ù–ê–õ

### WorkDetail (src/pages/WorkDetail.tsx) - `/objects/:objectId/works/:workId`

**–†–µ–Ω–¥–µ—Ä–∏—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç WorkJournal —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–æ–π.**

### WorkJournal (src/components/WorkJournal.tsx)

**–ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∂—É—Ä–Ω–∞–ª–æ–º —Ä–∞–±–æ—Ç.**

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  WorksList (–ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å, desktop)      ‚îÇ  ‚Üê —Å–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç –æ–±—ä–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  WorkHeader                             ‚îÇ  ‚Üê –Ω–∞–∑–≤–∞–Ω–∏–µ, –ø–æ–¥—Ä—è–¥—á–∏–∫, –ø—Ä–æ–≥—Ä–µ—Å—Å
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Tabs: –ñ—É—Ä–Ω–∞–ª | –ò–Ω—Ñ–æ | –°–º–µ—Ç–∞ | –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Tab Content                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–í–∫–ª–∞–¥–∫–∏:**

#### 1. –ñ—É—Ä–Ω–∞–ª (JournalTabContent)
- **–°–æ–±—ã—Ç–∏—è –∂—É—Ä–Ω–∞–ª–∞** (work_logs):
  - –ó–∞–ø–∏—Å–∏ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö
  - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç
  - –°–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ
  - –°–æ–±—ã—Ç–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–∞–º** —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
- **–ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏—è** –≤–Ω–∏–∑—É —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
  - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª (WorkReportModal)
  - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É (CreateInspectionSimple)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç EventItem:**
```typescript
interface JournalEvent {
  id: number;
  type: 'work_log' | 'message' | 'inspection_start' | 'inspection_completed' | 'work_start';
  created_by: number;
  created_at: string;
  author: string;
  description?: string;
  volume?: string;
  materials?: string;
  photo_urls?: string[];
  inspection?: any;
}
```

**–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π:**
- `work_log` - –∑–∞–ø–∏—Å—å –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö (—Å–∏–Ω–∏–π)
- `message` - —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ (—Å–µ—Ä—ã–π)
- `inspection_start` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞—Ç–∞ (–∑–µ–ª–µ–Ω—ã–π)
- `inspection_completed` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–∑–µ–ª–µ–Ω—ã–π)
- `work_start` - —Ä–∞–±–æ—Ç–∞ –Ω–∞—á–∞—Ç–∞ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)

#### 2. –ò–Ω—Ñ–æ (InfoTab)
- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
- –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (checkpoints)
- –°—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ë—é–¥–∂–µ—Ç –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã

#### 3. –°–º–µ—Ç–∞ (EstimateTab)
- –ü–ª–∞–Ω–æ–≤–∞—è —Å–º–µ—Ç–∞
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã
- –û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

#### 4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (AnalyticsTab)
- –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏

**WorkReportModal** - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞:
```typescript
{
  description: string;  // –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–±–æ—Ç
  volume: string;       // –û–±—ä–µ–º
  materials: string;    // –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
  photo_urls: string[]; // –§–æ—Ç–æ (placeholder)
}
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–º–µ—Ç–∫–∞ "–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ":**
```typescript
useEffect(() => {
  if (selectedWork) {
    await apiClient.post(ENDPOINTS.MARK_SEEN, { work_id: selectedWork });
  }
}, [selectedWork]);
```

---

## üîç –°–¢–†–ê–ù–ò–¶–ê –ü–†–û–í–ï–†–ö–ò

### InspectionDetail (src/pages/InspectionDetail.tsx) - `/inspection/:inspectionId`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- –í—ã–±–æ—Ä –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
- –°—Ç–∞—Ç—É—Å—ã: draft (—á–µ—Ä–Ω–æ–≤–∏–∫) ‚Üí active (–Ω–∞—á–∞—Ç–∞) ‚Üí completed (–∑–∞–≤–µ—Ä—à–µ–Ω–∞)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  InspectionHeader                       ‚îÇ  ‚Üê –Ω–æ–º–µ—Ä, –¥–∞—Ç–∞, —Å—Ç–∞—Ç—É—Å
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ScheduledInspectionNotice (–µ—Å–ª–∏ draft) ‚îÇ  ‚Üê —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–ª–∞–Ω–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ControlPointsSection                   ‚îÇ  ‚Üê –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ (—á–µ–∫–±–æ–∫—Å—ã)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  CommonDefectsSection                   ‚îÇ  ‚Üê —Ç–∏–ø–æ–≤—ã–µ –¥–µ—Ñ–µ–∫—Ç—ã (–±—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  DefectsSection                         ‚îÇ  ‚Üê —Å–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  DefectReportCard (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç—á–µ—Ç)     ‚îÇ  ‚Üê –∫–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç—á–µ—Ç–∞ –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  InspectionActions                      ‚îÇ  ‚Üê –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–µ—Ñ–µ–∫—Ç:**
```typescript
interface Defect {
  id: string;
  description: string;
  location: string;
  severity: 'critical' | 'major' | 'minor';
  responsible: string;
  deadline: string;
  photos?: string[];
}
```

**–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Ç–æ—á–∫–∞:**
```typescript
interface ControlPoint {
  id: number;
  description: string;
  category: string;
}
```

**–î–µ–π—Å—Ç–≤–∏—è:**
- **–ù–∞—á–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É** (draft ‚Üí active)
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫** (active)
- **–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É** (active ‚Üí completed)
- **–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö** (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã)

**–õ–æ–≥–∏–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã—Ö —Ç–æ—á–µ–∫:**
- –ö–ª–∏–∫ –ø–æ —Ç–æ—á–∫–µ ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –ø–æ–ª–µ –¥–µ—Ñ–µ–∫—Ç–∞
- –ê–≤—Ç–æ—Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞
- –ß–µ–∫–±–æ–∫—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

**–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ:**
```typescript
const { 
  newDefectPhotos,      // –º–∞—Å—Å–∏–≤ URL –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
  uploadingPhotos,      // —Ñ–ª–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏
  handleFileSelect,     // –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤
  handleRemovePhoto,    // —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ
  resetPhotos          // —Å–±—Ä–æ—Å –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞
} = useDefectPhotos();
```

---

## üìã –°–¢–†–ê–ù–ò–¶–ê –û–¢–ß–ï–¢–ê –û –î–ï–§–ï–ö–¢–ê–•

### DefectReport (src/pages/DefectReport.tsx) - `/defect-report/:reportId`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞ –æ –¥–µ—Ñ–µ–∫—Ç–∞—Ö
- –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤ —Å —Ñ–æ—Ç–æ
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–º
- –ü—Ä–∏–Ω—è—Ç–∏–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑—á–∏–∫–æ–º

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `DefectReportHeader` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç—á–µ—Ç–∞
- `DefectItem` - –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–µ—Ñ–µ–∫—Ç–∞

**–°—Ç–∞—Ç—É—Å—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞:**
- `pending` - –æ–∂–∏–¥–∞–µ—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- `in_progress` - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- `remediated` - —É—Å—Ç—Ä–∞–Ω–µ–Ω (–æ–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- `accepted` - –ø—Ä–∏–Ω—è—Ç –∑–∞–∫–∞–∑—á–∏–∫–æ–º
- `rejected` - –æ—Ç–∫–ª–æ–Ω–µ–Ω –∑–∞–∫–∞–∑—á–∏–∫–æ–º

---

## üë∑ –°–¢–†–ê–ù–ò–¶–ê –†–ê–ë–û–¢ –ü–û–î–†–Ø–î–ß–ò–ö–ê

### MyWorks (src/pages/MyWorks.tsx) - `/my-works`

**–î–ª—è –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤ - —Å–ø–∏—Å–æ–∫ –∏—Ö —Ä–∞–±–æ—Ç –Ω–∞ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–∞—Ö.**

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–±—ä–µ–∫—Ç–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ü–µ—Ä–µ—Ö–æ–¥ –∫ –∂—É—Ä–Ω–∞–ª—É —Ä–∞–±–æ—Ç—ã

**–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
```typescript
const response = await apiClient.get(
  `${ENDPOINTS.CONTRACTORS.TASKS}?contractor_id=${user.id}`
);
```

---

## ü§ù –°–¢–†–ê–ù–ò–¶–ê –ü–û–î–†–Ø–î–ß–ò–ö–û–í

### Contractors (src/pages/Contractors.tsx) - `/contractors`

**–î–ª—è –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º–∏.**

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –°–ø–∏—Å–æ–∫ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ò–ù–ù (—Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ)
- –ü—Ä–∏–≤—è–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
- –î–µ—Ç–∞–ª–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ (–æ–±—ä–µ–∫—Ç—ã, —Ä–∞–±–æ—Ç—ã)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `ContractorDetailsModal` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥—Ä—è–¥—á–∏–∫–µ

**–õ–æ–≥–∏–∫–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è:**
```typescript
// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ò–ù–ù
const response = await apiClient.post(ENDPOINTS.CONTRACTORS.INVITE, {
  inn, name, email, phone, client_id
});

// 2. –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –ù–ï –ø—Ä–∏–≤—è–∑–∞–Ω ‚Üí –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø—Ä–∏–≤—è–∑–∫—É
if (data.exists && !data.already_linked) {
  setExistingContractor(data.contractor);
}

// 3. –ï—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –£–ñ–ï –ø—Ä–∏–≤—è–∑–∞–Ω ‚Üí –æ—à–∏–±–∫–∞
if (data.exists && data.already_linked) {
  toast({ title: '–ü–æ–¥—Ä—è–¥—á–∏–∫ —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω' });
}

// 4. –ï—Å–ª–∏ –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ (–æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è email)
if (data.invitation_sent) {
  toast({ title: '–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ' });
}
```

**–ü—Ä–∏–≤—è–∑–∫–∞:**
```typescript
const response = await apiClient.post(ENDPOINTS.CONTRACTORS.LINK, {
  client_id: user.id,
  contractor_id: existingContractor.id
});
```

---

## üìä –°–¢–†–ê–ù–ò–¶–ê –ê–ù–ê–õ–ò–¢–ò–ö–ò

### Analytics (src/pages/Analytics.tsx) - `/analytics`

**–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø—Ä–æ–≥—Ä–µ—Å—Å, –±—é–¥–∂–µ—Ç, —ç–∫–æ–Ω–æ–º–∏—è)
- –í–∫–ª–∞–¥–∫–∏: –ü–æ –ø—Ä–æ–µ–∫—Ç–∞–º | –ü–æ —Ä–∞–±–æ—Ç–∞–º | –§–∏–Ω–∞–Ω—Å—ã
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã (recharts)

**–í—ã—á–∏—Å–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
```typescript
// –ü–æ –æ–±—ä–µ–∫—Ç–∞–º
const projectsData = objects.map(obj => {
  const objectWorks = works.filter(w => w.object_id === obj.id);
  const totalBudget = objectWorks.reduce((sum, w) => sum + parseFloat(w.budget), 0);
  const avgProgress = objectWorks.reduce((sum, w) => sum + parseFloat(w.progress), 0) / objectWorks.length;
  
  return { name: obj.title, plan: 100, fact: avgProgress, budget: totalBudget };
});

// –ü–æ —Ä–∞–±–æ—Ç–∞–º
const worksData = works.map(work => ({
  work: work.title,
  progress: Math.round(parseFloat(work.progress)),
  planned: parseFloat(work.budget),
  actual: parseFloat(work.actual_cost),
  deviation: ((actual - planned) / planned) * 100
}));
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `BarChart` (recharts) - –≥—Ä–∞—Ñ–∏–∫ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º
- `Progress` - –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä—ã
- `Badge` - —Å—Ç–∞—Ç—É—Å—ã —Ä–∞–±–æ—Ç

---

## üë§ –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨

### Admin (src/pages/Admin.tsx) - `/admin`

**–¢–æ–ª—å–∫–æ –¥–ª—è role='admin'**

**–í–∫–ª–∞–¥–∫–∏:**

#### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (UsersTable)
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–æ–ª–∏ (client / contractor / admin)
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
const response = await apiClient.post(ENDPOINTS.ADMIN.USERS, {
  method: 'update',
  user_id,
  data: { name, email, role, organization }
});
```

#### 2. –¢–∏–ø—ã —Ä–∞–±–æ—Ç (AdminWorkTypes)
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–∏–ø–æ–≤ —Ä–∞–±–æ—Ç
- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞–±–æ—Ç
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞

**–¢–∏–ø—ã —Ä–∞–±–æ—Ç:**
```typescript
interface WorkType {
  id: number;
  name: string;
  category: 'construction' | 'engineering' | 'finishing' | 'other';
  description: string;
}
```

---

## üîî –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –ò –°–ß–ï–¢–ß–ò–ö–ò

### –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–°—á–µ—Ç—á–∏–∫–∏:**
```typescript
const unreadCounts = userData?.unreadCounts || {};
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞: { work_id: count }

// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:
{unreadCounts[work.id] > 0 && (
  <Badge variant="destructive">{unreadCounts[work.id]}</Badge>
)}
```

**–ü–æ–º–µ—Ç–∫–∞ "–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ":**
```typescript
await apiClient.post(ENDPOINTS.MARK_SEEN, { work_id });
// –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ä–∞–±–æ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### NotificationsSummary (src/components/work-journal/NotificationsSummary.tsx)

**–°–≤–æ–¥–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Dashboard:**
- –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ –∂—É—Ä–Ω–∞–ª–∞
- –ù–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–±–æ—Ç–∞–º

---

## üéØ ONBOARDING

### OnboardingFlow (src/components/onboarding/OnboardingFlow.tsx)

**–ü–æ—à–∞–≥–æ–≤—ã–π —Ç—É—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (react-joyride).**

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
3. –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞
4. –ñ—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç
5. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–õ–æ–≥–∏–∫–∞:**
```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
// - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–æ–≤—ã–π (–Ω–µ—Ç –æ–±—ä–µ–∫—Ç–æ–≤)
// - –ï—â–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª (localStorage)

const shouldShowOnboarding = 
  objects.length === 0 && 
  !localStorage.getItem('onboarding_completed');
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-22  
**–í–µ—Ä—Å–∏—è:** 3.0 (–¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)